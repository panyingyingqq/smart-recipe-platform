import{u as V,r as i,j as e}from"./vendor-cpxq64b2.js";import{s as p}from"./index-3IvfZGzb.js";import{f as W,P as y,M as L,d as X,g as Y}from"./ui-DrWiCD5s.js";import"./utils-C66LSg7K.js";const ae=()=>{const d=V(),[f,I]=i.useState(null),[w,g]=i.useState(!1),[h,k]=i.useState(null),[E,F]=i.useState(""),[b,_]=i.useState(""),[B,q]=i.useState("主菜"),[j,T]=i.useState(3),[D,P]=i.useState(15),[R,M]=i.useState(15),[v,z]=i.useState(""),[s,C]=i.useState([{name:"",amount:0,unit:"g"}]),[c,u]=i.useState([""]);i.useEffect(()=>{p.auth.getSession().then(({data:{session:t}})=>{t?I(t.user):d("/login")})},[d]);const $=()=>{C([...s,{name:"",amount:0,unit:"g"}])},G=t=>{const r=[...s];r.splice(t,1),C(r)},m=(t,r,a)=>{const l=[...s];l[t][r]=a,C(l)},H=()=>{u([...c,""])},J=t=>{const r=[...c];r.splice(t,1),u(r)},K=(t,r)=>{const a=[...c];a[t]=r,u(a)},O=async t=>{if(t.preventDefault(),!!f){g(!0),k(null);try{const{data:r,error:a}=await p.from("recipes").insert({author_id:f.id,name:E,description:b,category:B,difficulty:j,prep_time:D,cook_time:R,cover_image:v||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&w=800&q=80",is_public:!0,servings:4}).select().single();if(a)throw a;const l=r.id,x=[];for(let n=0;n<s.length;n++){const o=s[n];if(!o.name.trim())continue;const{data:S}=await p.from("ingredients").select("id").eq("name",o.name.trim()).maybeSingle();let A;if(S)A=S.id;else{const{data:Q,error:N}=await p.from("ingredients").insert({name:o.name.trim(),category:"其他",storage_method:"常温",image_url:"https://images.unsplash.com/photo-1606914469725-e39c3ebc8d89?auto=format&fit=crop&w=200&q=80"}).select().single();if(N)throw N;A=Q.id}x.push({recipe_id:l,ingredient_id:A,amount:o.amount,unit:o.unit,order_index:n+1})}if(x.length>0){const{error:n}=await p.from("recipe_ingredients").insert(x);if(n)throw n}const U=c.map((n,o)=>n.trim()?{recipe_id:l,step_number:o+1,instruction:n.trim()}:null).filter(Boolean);if(U.length>0){const{error:n}=await p.from("recipe_steps").insert(U);if(n)throw n}alert("食谱发布成功！"),d("/recipes")}catch(r){console.error("Error uploading recipe:",r),k(r.message||"发布失败，请稍后重试")}finally{g(!1)}}};return e.jsxs("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"4","trae-inspector-end-line":"395","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-sticker border-4 border-white p-6 md:p-10 my-8 relative z-10",children:[e.jsxs("h1",{"trae-inspector-start-line":"179","trae-inspector-start-column":"6","trae-inspector-end-line":"184","trae-inspector-end-column":"11","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"text-3xl font-bold text-kawaii-text-main mb-8 flex items-center gap-3 font-cute",children:[e.jsx("div",{"trae-inspector-start-line":"180","trae-inspector-start-column":"8","trae-inspector-end-line":"182","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"bg-kawaii-pink-100 p-3 rounded-full shadow-soft",children:e.jsx(W,{className:"w-8 h-8 text-kawaii-pink-500"})}),"发布新食谱"]}),h&&e.jsx("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"8","trae-inspector-end-line":"189","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"bg-red-50 text-red-500 p-4 rounded-2xl mb-6 border border-red-100 font-cute shadow-sm",children:h}),e.jsxs("form",{"trae-inspector-start-line":"192","trae-inspector-start-column":"6","trae-inspector-end-line":"394","trae-inspector-end-column":"13","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",onSubmit:O,className:"space-y-8",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"8","trae-inspector-end-line":"280","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"space-y-5",children:[e.jsx("h2",{"trae-inspector-start-line":"195","trae-inspector-start-column":"10","trae-inspector-end-line":"195","trae-inspector-end-column":"124","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%22115%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%22119%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"text-xl font-bold text-kawaii-text-main border-l-4 border-kawaii-pink-500 pl-3 font-cute",children:"基本信息"}),e.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"10","trae-inspector-end-line":"207","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"198","trae-inspector-start-column":"12","trae-inspector-end-line":"198","trae-inspector-end-column":"106","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E9%A3%9F%E8%B0%B1%E5%90%8D%E7%A7%B0%20*%22%2C%22textStartLine%22%3A%22198%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%22198%22%2C%22textEndColumn%22%3A%2298%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"食谱名称 *"}),e.jsx("input",{"trae-inspector-start-line":"199","trae-inspector-start-column":"12","trae-inspector-end-line":"206","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"text",required:!0,value:E,onChange:t=>F(t.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",placeholder:"例如：红烧肉"})]}),e.jsxs("div",{"trae-inspector-start-line":"209","trae-inspector-start-column":"10","trae-inspector-end-line":"218","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"210","trae-inspector-start-column":"12","trae-inspector-end-line":"210","trae-inspector-end-column":"102","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E6%8F%8F%E8%BF%B0%22%2C%22textStartLine%22%3A%22210%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%22210%22%2C%22textEndColumn%22%3A%2294%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"描述"}),e.jsx("textarea",{"trae-inspector-start-line":"211","trae-inspector-start-column":"12","trae-inspector-end-line":"217","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",value:b,onChange:t=>_(t.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",rows:3,placeholder:"简要介绍这道菜..."})]}),e.jsxs("div",{"trae-inspector-start-line":"220","trae-inspector-start-column":"10","trae-inspector-end-line":"247","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"12","trae-inspector-end-line":"235","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"222","trae-inspector-start-column":"14","trae-inspector-end-line":"222","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%88%86%E7%B1%BB%22%2C%22textStartLine%22%3A%22222%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22222%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"分类"}),e.jsxs("select",{"trae-inspector-start-line":"223","trae-inspector-start-column":"14","trae-inspector-end-line":"234","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",value:B,onChange:t=>q(t.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",children:[e.jsx("option",{"trae-inspector-start-line":"228","trae-inspector-start-column":"16","trae-inspector-end-line":"228","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E4%B8%BB%E8%8F%9C%22%2C%22textStartLine%22%3A%22228%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22228%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"主菜"}),e.jsx("option",{"trae-inspector-start-line":"229","trae-inspector-start-column":"16","trae-inspector-end-line":"229","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%87%89%E8%8F%9C%22%2C%22textStartLine%22%3A%22229%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22229%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"凉菜"}),e.jsx("option",{"trae-inspector-start-line":"230","trae-inspector-start-column":"16","trae-inspector-end-line":"230","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E6%B1%A4%E7%BE%B9%22%2C%22textStartLine%22%3A%22230%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22230%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"汤羹"}),e.jsx("option",{"trae-inspector-start-line":"231","trae-inspector-start-column":"16","trae-inspector-end-line":"231","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E4%B8%BB%E9%A3%9F%22%2C%22textStartLine%22%3A%22231%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22231%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"主食"}),e.jsx("option",{"trae-inspector-start-line":"232","trae-inspector-start-column":"16","trae-inspector-end-line":"232","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E7%94%9C%E7%82%B9%22%2C%22textStartLine%22%3A%22232%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22232%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"甜点"}),e.jsx("option",{"trae-inspector-start-line":"233","trae-inspector-start-column":"16","trae-inspector-end-line":"233","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E9%A5%AE%E5%93%81%22%2C%22textStartLine%22%3A%22233%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22233%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:"饮品"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"236","trae-inspector-start-column":"12","trae-inspector-end-line":"246","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"237","trae-inspector-start-column":"14","trae-inspector-end-line":"237","trae-inspector-end-column":"110","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E9%9A%BE%E5%BA%A6%20(1-5)%22%2C%22textStartLine%22%3A%22237%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22237%22%2C%22textEndColumn%22%3A%22102%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"难度 (1-5)"}),e.jsx("input",{"trae-inspector-start-line":"238","trae-inspector-start-column":"14","trae-inspector-end-line":"245","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"number",min:"1",max:"5",value:j,onChange:t=>T(parseInt(t.target.value)),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"10","trae-inspector-end-line":"268","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{"trae-inspector-start-line":"250","trae-inspector-start-column":"12","trae-inspector-end-line":"258","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"251","trae-inspector-start-column":"14","trae-inspector-end-line":"251","trae-inspector-end-column":"111","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%87%86%E5%A4%87%E6%97%B6%E9%97%B4%20(%E5%88%86%E9%92%9F)%22%2C%22textStartLine%22%3A%22251%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22251%22%2C%22textEndColumn%22%3A%22103%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"准备时间 (分钟)"}),e.jsx("input",{"trae-inspector-start-line":"252","trae-inspector-start-column":"14","trae-inspector-end-line":"257","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"number",value:D,onChange:t=>P(parseInt(t.target.value)),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all"})]}),e.jsxs("div",{"trae-inspector-start-line":"259","trae-inspector-start-column":"12","trae-inspector-end-line":"267","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"260","trae-inspector-start-column":"14","trae-inspector-end-line":"260","trae-inspector-end-column":"111","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E7%83%B9%E9%A5%AA%E6%97%B6%E9%97%B4%20(%E5%88%86%E9%92%9F)%22%2C%22textStartLine%22%3A%22260%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22260%22%2C%22textEndColumn%22%3A%22103%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"烹饪时间 (分钟)"}),e.jsx("input",{"trae-inspector-start-line":"261","trae-inspector-start-column":"14","trae-inspector-end-line":"266","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"number",value:R,onChange:t=>M(parseInt(t.target.value)),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"270","trae-inspector-start-column":"10","trae-inspector-end-line":"279","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"271","trae-inspector-start-column":"12","trae-inspector-end-line":"271","trae-inspector-end-column":"108","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%B0%81%E9%9D%A2%E5%9B%BE%E7%89%87%20URL%22%2C%22textStartLine%22%3A%22271%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%22271%22%2C%22textEndColumn%22%3A%22100%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"block text-sm font-bold text-kawaii-text-main mb-2 font-cute",children:"封面图片 URL"}),e.jsx("input",{"trae-inspector-start-line":"272","trae-inspector-start-column":"12","trae-inspector-end-line":"278","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"url",value:v,onChange:t=>z(t.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",placeholder:"https://example.com/image.jpg"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"283","trae-inspector-start-column":"8","trae-inspector-end-line":"332","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"space-y-5",children:[e.jsxs("div",{"trae-inspector-start-line":"284","trae-inspector-start-column":"10","trae-inspector-end-line":"293","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"flex justify-between items-center border-l-4 border-kawaii-pink-500 pl-3",children:[e.jsx("h2",{"trae-inspector-start-line":"285","trae-inspector-start-column":"12","trae-inspector-end-line":"285","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E9%A3%9F%E6%9D%90%E6%B8%85%E5%8D%95%22%2C%22textStartLine%22%3A%22285%22%2C%22textStartColumn%22%3A%2278%22%2C%22textEndLine%22%3A%22285%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"text-xl font-bold text-kawaii-text-main font-cute",children:"食材清单"}),e.jsxs("button",{"trae-inspector-start-line":"286","trae-inspector-start-column":"12","trae-inspector-end-line":"292","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"button",onClick:$,className:"text-kawaii-pink-500 flex items-center gap-1 hover:text-kawaii-pink-700 font-bold font-cute bg-kawaii-pink-50 px-3 py-1 rounded-full transition-colors",children:[e.jsx(y,{className:"w-4 h-4"})," 添加食材"]})]}),e.jsx("div",{"trae-inspector-start-line":"295","trae-inspector-start-column":"10","trae-inspector-end-line":"331","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"space-y-3",children:s.map((t,r)=>e.jsxs("div",{"trae-inspector-start-line":"297","trae-inspector-start-column":"14","trae-inspector-end-line":"329","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"flex gap-3 items-center",children:[e.jsx("input",{"trae-inspector-start-line":"298","trae-inspector-start-column":"16","trae-inspector-end-line":"305","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"text",placeholder:"食材名称",value:t.name,onChange:a=>m(r,"name",a.target.value),className:"flex-1 px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",required:!0}),e.jsx("input",{"trae-inspector-start-line":"306","trae-inspector-start-column":"16","trae-inspector-end-line":"312","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"number",placeholder:"数量",value:t.amount,onChange:a=>m(r,"amount",parseFloat(a.target.value)),className:"w-24 px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all"}),e.jsx("input",{"trae-inspector-start-line":"313","trae-inspector-start-column":"16","trae-inspector-end-line":"319","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"text",placeholder:"单位",value:t.unit,onChange:a=>m(r,"unit",a.target.value),className:"w-24 px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all"}),s.length>1&&e.jsx("button",{"trae-inspector-start-line":"321","trae-inspector-start-column":"18","trae-inspector-end-line":"327","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"button",onClick:()=>G(r),className:"p-2 text-kawaii-pink-300 hover:text-red-500 transition-colors",children:e.jsx(L,{className:"w-6 h-6"})})]},r))})]}),e.jsxs("div",{"trae-inspector-start-line":"335","trae-inspector-start-column":"8","trae-inspector-end-line":"373","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"space-y-5",children:[e.jsxs("div",{"trae-inspector-start-line":"336","trae-inspector-start-column":"10","trae-inspector-end-line":"345","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"flex justify-between items-center border-l-4 border-kawaii-pink-500 pl-3",children:[e.jsx("h2",{"trae-inspector-start-line":"337","trae-inspector-start-column":"12","trae-inspector-end-line":"337","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%88%B6%E4%BD%9C%E6%AD%A5%E9%AA%A4%22%2C%22textStartLine%22%3A%22337%22%2C%22textStartColumn%22%3A%2278%22%2C%22textEndLine%22%3A%22337%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"text-xl font-bold text-kawaii-text-main font-cute",children:"制作步骤"}),e.jsxs("button",{"trae-inspector-start-line":"338","trae-inspector-start-column":"12","trae-inspector-end-line":"344","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"button",onClick:H,className:"text-kawaii-pink-500 flex items-center gap-1 hover:text-kawaii-pink-700 font-bold font-cute bg-kawaii-pink-50 px-3 py-1 rounded-full transition-colors",children:[e.jsx(y,{className:"w-4 h-4"})," 添加步骤"]})]}),e.jsx("div",{"trae-inspector-start-line":"347","trae-inspector-start-column":"10","trae-inspector-end-line":"372","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"space-y-4",children:c.map((t,r)=>e.jsxs("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"14","trae-inspector-end-line":"370","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"flex gap-4 items-start",children:[e.jsx("span",{"trae-inspector-start-line":"350","trae-inspector-start-column":"16","trae-inspector-end-line":"352","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"mt-2 w-8 h-8 rounded-full bg-kawaii-pink-500 text-white flex items-center justify-center font-bold flex-shrink-0 shadow-soft ring-2 ring-kawaii-pink-100 font-cute",children:r+1}),e.jsx("textarea",{"trae-inspector-start-line":"353","trae-inspector-start-column":"16","trae-inspector-end-line":"360","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",value:t,onChange:a=>K(r,a.target.value),placeholder:`步骤 ${r+1} 说明...`,className:"flex-1 px-4 py-3 rounded-xl border-2 border-kawaii-pink-200 focus:ring-4 focus:ring-kawaii-pink-100 focus:border-kawaii-pink-500 outline-none bg-kawaii-pink-50 font-cute text-kawaii-text-main transition-all",rows:2,required:!0}),c.length>1&&e.jsx("button",{"trae-inspector-start-line":"362","trae-inspector-start-column":"18","trae-inspector-end-line":"368","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"button",onClick:()=>J(r),className:"p-2 text-kawaii-pink-300 hover:text-red-500 mt-2 transition-colors",children:e.jsx(L,{className:"w-6 h-6"})})]},r))})]}),e.jsx("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"8","trae-inspector-end-line":"393","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",className:"pt-8 border-t-2 border-kawaii-pink-100 flex justify-end",children:e.jsx("button",{"trae-inspector-start-line":"376","trae-inspector-start-column":"10","trae-inspector-end-line":"392","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\UploadRecipe.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5Ctrae%5C%5Ctrae%22%7D",type:"submit",disabled:w,className:"bg-kawaii-pink-500 text-white px-10 py-4 rounded-full font-bold shadow-sticker hover:shadow-xl hover:scale-105 active:scale-95 transition-all flex items-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed font-cute text-lg",children:w?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-6 h-6 animate-spin"}),"发布中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-6 h-6"}),"发布食谱"]})})})]})]})};export{ae as default};
