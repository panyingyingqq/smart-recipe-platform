{"version":3,"file":"Login-DnRiO3dD.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { supabase } from '../supabase/client';\nimport { useNavigate } from 'react-router-dom';\nimport { ChefHat, Mail, Lock, Loader2 } from 'lucide-react';\n\nconst Login: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  const handleEmailAuth = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (isSignUp) {\n        const { error: signUpError } = await supabase.auth.signUp({\n          email,\n          password,\n        });\n        if (signUpError) throw signUpError;\n        alert('注册成功！请检查您的邮箱以确认账号。');\n      } else {\n        const { error: signInError } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        });\n        if (signInError) throw signInError;\n        navigate('/');\n      }\n    } catch (err: any) {\n      setError(err.message || 'An unexpected error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto py-12 px-4 relative z-10\">\n      <div className=\"bg-white rounded-3xl shadow-sticker p-8 border-4 border-white\">\n        <div className=\"text-center mb-8\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"w-20 h-20 bg-kawaii-pink-100 rounded-full flex items-center justify-center text-kawaii-pink-500 shadow-soft ring-4 ring-white\">\n              <ChefHat className=\"w-10 h-10\" />\n            </div>\n          </div>\n          <h1 className=\"text-3xl font-bold text-kawaii-text-main font-cute\">\n            {isSignUp ? '创建账号' : '欢迎回来'}\n          </h1>\n          <p className=\"text-kawaii-text-sub mt-2 font-cute\">\n            {isSignUp ? '开始您的美食之旅' : '登录以管理您的食谱和收藏'}\n          </p>\n        </div>\n\n        <form onSubmit={handleEmailAuth} className=\"space-y-6\">\n          <div>\n            <label className=\"block text-sm font-bold text-kawaii-text-main mb-2 font-cute\">\n              电子邮箱\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 rounded-2xl border-2 border-kawaii-pink-200 focus:border-kawaii-pink-500 focus:ring-4 focus:ring-kawaii-pink-100 outline-none transition-all bg-kawaii-pink-50 font-cute text-kawaii-text-main\"\n                placeholder=\"your@email.com\"\n              />\n              <Mail className=\"absolute left-3 top-3.5 w-5 h-5 text-kawaii-pink-300\" />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-bold text-kawaii-text-main mb-2 font-cute\">\n              密码\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 rounded-2xl border-2 border-kawaii-pink-200 focus:border-kawaii-pink-500 focus:ring-4 focus:ring-kawaii-pink-100 outline-none transition-all bg-kawaii-pink-50 font-cute text-kawaii-text-main\"\n                placeholder=\"••••••••\"\n              />\n              <Lock className=\"absolute left-3 top-3.5 w-5 h-5 text-kawaii-pink-300\" />\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 text-red-500 text-sm p-4 rounded-xl border border-red-100 font-cute\">\n              {error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-kawaii-pink-500 text-white py-3.5 rounded-2xl font-bold shadow-sticker hover:shadow-xl hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-70 flex justify-center items-center gap-2 font-cute text-lg\"\n          >\n            {loading && <Loader2 className=\"w-5 h-5 animate-spin\" />}\n            {isSignUp ? '注册' : '登录'}\n          </button>\n        </form>\n\n        <div className=\"mt-8 text-center text-sm text-kawaii-text-sub font-cute\">\n          {isSignUp ? '已有账号？' : '还没有账号？'}\n          <button\n            onClick={() => setIsSignUp(!isSignUp)}\n            className=\"text-kawaii-pink-500 font-bold ml-1 hover:underline hover:text-kawaii-pink-700\"\n          >\n            {isSignUp ? '立即登录' : '立即注册'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["Login","email","setEmail","useState","password","setPassword","loading","setLoading","isSignUp","setIsSignUp","error","setError","navigate","useNavigate","handleEmailAuth","e","preventDefault","signUpError","supabase","auth","signUp","alert","signInError","signInWithPassword","err","message","jsx","jsxs","ChefHat","target","value","Mail","Lock","Loader2"],"mappings":"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"}